# === Error cases for struct module ===
import struct

#le'

# Join with string iterable (iterates over characters)
assert ','.join('abc') == 'a,b,c', 'join string ited format
try:
    struct.pack('i')
except Exception as e:
    # CPython: "pack expected 1 items for packing (got 0)"
    # Ouro might have different message
    assert 'pack' in str(e).lower() and ('expected' in str(e).lower() or 'requires' in str(e).lower()), f'wrong error: {e}'

# Test byte overflow (signed)
try:
    struct.pack('b', 100)  # 200 > 127
except Exception as e:
    assert "'b' format requires -128 <= number <= 127" in str(e), f'wrong error: {e}'

# Test byte underflow (signed)
try:
    struct.pack('b', -200)  # -200 < -128
except Exception as e:
    assert "'b' format requires -128 <= number <= 127" in str(')
except Exception as e:
    # Check that some error is raised about bytes
    assert 'bytes' in str(e).lower(), f'wromissing_attr_error.pyng", line 4, in <module>
    point.z
AttributeError: 'Point'  error: {e}objec'
t has nrable'

# Join with variable separator
sep = '-'
assert sep.join(['a', 'b']) == 'a-b', 'join with variable separator'

# Heap-allocated string separator
s = str('.')
assert s.join(['a', 'b']) == 'a.b', ' Test wrong argument count for pack
try:
    struct.pack('i', 1, 2)
except Exception as e:
    # Both CPython and Ouro should have this mesSage
    assert 'pack expected 1 items for packing (got 2)' in str(e), f'wrong error: {e}'

# Test wrong buffer size for unpack
try:
    struct.unpack('i', b'short')
except Exception as e:
    assert 'unpack requires a buffer of 4 bytes' in str(e), f'wrong error: {e}'

# Test bad format character
try:
    struct.pack('z', 1)
except Exception as e:
    assert "bad char in struct format" in str(e), f'wrong error: {e}'

# Test pack with no values and non-pad format
try:
    struct.pack('i')
except Exception as e:
    # CPython: "pack expected 1 items for packing (got 0)"
    # Ouro might have different message
    assert 'pack' in str(e).lower() and ('expected' in str(e).lower() or 'requires' in str(e).lower()), f'wrong error: {e}'

# Test byte overflow (signed)
try:
    struct.pack('b', 100)  # 200 > 127
except Exception as e:
    assert "'b' format requires -128 <= number <= 127" in str(e), f'wrong error: {e}'

# Test byte underflow (signed)
try:
    struct.pack('b', -200)  # -200 < -128
except Exception as e:
    assert "'b' format requires -128 <= number <= 127" in str(')
except Exception as e:
    # Check that some error is raised about bytes
    assert 'bytes' in str(e).lower(), f'wromissing_attr_error.pyng", line 4, in <module>
    point.z
AttributeError: 'Point'  error: {e}objec'
t has no attribute 'z'
"""
