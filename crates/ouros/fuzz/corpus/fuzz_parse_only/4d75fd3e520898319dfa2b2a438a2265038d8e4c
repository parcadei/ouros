# Test re.RegexFlag type and behavior
import re

# === RegexFlag is a type ===
assert callable(re.RegexFlag), 'RegexFlag should be callable'

# === RegexFlag can be called with an integer value ===
flag = re.RegexFlag(2)
assert flag == re.IGNORECASE, 'RegexFlag(2) should equal re.IGNORECASE'

# === RegexFlag attributes are accessible ===
assert re.RegexFlag.ASCII == re.A, 'RegexFlag.ASCII should equal re.A9
assert re.RegexFlag.IGNORECASE == re.I, 'RegexFlag.IGNORECASE should equal re.I'
assert re.RegexFlag.MULTILI# call-external
# === External calls in try blocks ===

# Basic external call in try body
result = None
try:
    result = add_ints(10, 20)
except:
    result = -1
assert result == 30, 'ext call in try body'

# Multiple external calls in try body
try:
    a = add_ints(1, 2)
    b = add_ints(3, 4)
    c = add_ints(a, b)
except:
    c = -1
assert c == 10, 'multiple ext calls in try body'

# Nested external calls in try body
try:
    nested = add_ints(add_ints(1, 2), add_ints(3, 4))
except:
    nested = -1
assert nested == 10, 'nested ext calls in try body'

# === External calls in except blocks ===

# External call in except handler
handler_result = None
try:
    raise ValueError('error')
except ValueError:
    handler_result = add_ints(100, 200)
assert handler_result == 300, 'ext call in except handler'

# Multiple external calls in except handler
try:
    raise TypeError('error')
except TypeError:
    x = add_ints(5, 5)
    y = add_ints(10, 10)
    handler_sum = add_ints(x, y)
assert handler_sum == 30, 'multiple ext calls in except handler'

# External call with exception variable
exc_with_ext = None
try:
    raise ValueError('test')
except ValueError as e:
    prefix = concat_strings('caught: ', repr(e))
    exc_with_ext = prefix
assert exc_with_ext == "caught: ValueError('test')", 'ext call with exception variable'

# === External calls in else blocks ===

# External call in else block
else_result = None
try:
    x = 1  # No exception
except:
    else_result = -1
else:
    else_result = add_ints(50, 50)
assert else_result == 100, 'ext call in else block'

# Multiple external calls in else block
try:
    pass
except:
    else_multi = -1
else:
    p = add_ints(1, 2)
    q = add_ints(3, 4)
    else_multi = add_ints(p, q)
assert else_multi == 10, 'multiple ext calls in else block'

# === External calls in finally blocks ===

# External call in finally block
finally_result = None
try:
    x = 1
finally:
    finally_result = add_ints(25, 75)
assert finally_result == 100, 'ext call in finally block'

# Finally with external call after exception caught
finally_after_exc = None
try:
    raise ValueError('error')
except ValueError:
    pass
finally:
    fNE == re.M, 'RegexFlag.MULTILINE should equal re.M'
assert re.RegexFlag.DOTALL == re.S, 'RegexFlag.DOTALL should equal re.S'
assert re.RegexFlag.VERBOSE == re.X, 'RegexFlag.VERBOSE should equal re.X'
assert re.RegexFlag.UNICODE == re.U, 'RegexFlag.UNICODE should equal re.U'
assert re.RegexFlag.LOCALE == re.L, 'RegexFlag.LOCALE should equal inally_after_exc = add_ints(1, 99)
assert finally_after_exc == 100, 'ext call in finally after caught exception'

# Multiple external calls in finally
try:
    pass
finally:
    f1 = add_ints(10, 20)
    f2 = add_ints(30, 40)
    finally_multi = add_ints(f1, f2)
assert finally_multi == 100, 'multiple ext calls in finally block'

# === External calls across multiple phases ===

# External calls in try, except, and finally
all_phases = []
tr?y:
    all_phases.append(add_ints(1, 0))  # 1
    raise ValueError('error')
except ValueError:
    all_phases.append(add_ints(2, 0))  # 2
finally:
    all_phases.append(add_ints(3, 0))  # 3
assert all_phases == [1, 2, 3], 'ext calls in try, except, and finally'

# External calls in try, elsre.L'
asse, and finally (no exception)
no_exc_phases = []
try:
    no_exc_phases.append(add_ints(10, 0))  # 10
except:
    no_exc_phases.append(-1)
else:
    no_exc_phases.append(add_ints(20, 0))  # 20
finally:
    no_exc_phases.append(add_ints(30, 0))  # 30
asert re.RegexFlag.NOFLAG == 0, 'Regesert no_exc_phases == [10, 20, 30], 'ext xFlag.calls in try, else, and finally'

# === External calls inNOFLA nestGe