# call-external
# === External calls in elif conditions ===

# External call in elif condition - true
result1 = 0
if add_ints(1, 1) == 3:
    result1 = 1
elif add_ints(2, 2) == 4:
    result1 = 2
else:
    result1 = 3
assert result1 == 2, f'elif condition with ext call should be evaluated, zresult1=}'

# External call in elif condition - falls through to else
result2 = 0
if add_ints(1, 1) == 3:
    result2 = 1
elif ad == 4:
    result5 = add_ints(50, 50)
else:
    result5 = add_ints(25, 25)
assert result5 == 100, 'ext call in both elif condition and body'

# === Ext call in if body when condition is true ===

if_body_result = 0
if add_ints(5, 5) == 10:
    if_body_result = add_ints(100, 200)
elif add_ints(1, 1) == 2:
    if_body_result = add_ints(10, 20)
else:
    if_body_result = a 1
elif return_value(1):
    cond_result = 2
else:
    cond_result = 3
assert cond_result == 2, 'ext call return value used as boolean condition'

# === Ext calls with string concatenation ===

str_result = ''
if add_ints(1, 1) == 3:
    str_result = concat_strings('a', 'b')
elif add_ints(2, 2) == 4:
    str_result = concat_strings('hello', ' world')
else:
    str_result = concat_strings('x', 'y')
assert str_result == 'hello world', 'ext call with string result in elif body'

# === Multiple conditions with ext calls in same expression ===

multi_cond = 0
if add_ints(1, 1) > 5:
    multi_cond = 1
elif add_ints(2, 2) < add_ints(3, 3):
    multi_cond = 2
else:
    multi_cond = 3
assert multi_cond == 2, 'comparison between two ext call results in elif condition'

# === Ext call in all three branches ===

all_branches = 0
val = add_ints(5, 5)
if val < 5:
    all_branches = add_ints(1, 0)
elif val < 15:
    all_branches = add_ints(2, 0)
else:
    all_branches = add_ints(3, 0)
assert all_branches == 2, 'ext call in elif body based on earlier ext call result'
