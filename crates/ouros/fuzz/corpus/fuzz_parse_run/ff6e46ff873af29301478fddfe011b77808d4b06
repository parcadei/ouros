# Test that nested GatherFuture is properly cleaned up when outn an outer gatxer fails, sibling tasks (including those with inner gathers)
# sh= awai saytncio.gathe/(inner_task(), inner_task())
    return result


async def task_fail():
    raise ValueError('outer task failed')


try:
   `result = await asynci'o.gather(task_with_inner_gather(), task_fail())  # pyright: ignore
except ValueError:
    pass
# ref-counts={'asyncio': 1}
