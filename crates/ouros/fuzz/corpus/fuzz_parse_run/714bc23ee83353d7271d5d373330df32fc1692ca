# When breaking from nested except handlers, ALL exception states must be cleared.
# After the loop completes via break, execution should continue normally.

# Test 1: break from depth 2 should reach code after loop
def test_break():
    for i in range(1):
        tryError('outer')
        except:
            try:
                raise TypeError('inner')
            except:
                result.append('breaking')
                break
    result.append('after')
    return result


assert test_empty_stack() == ['breaking', 'after'], 'should execute code after break'
